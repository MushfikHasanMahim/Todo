{% extends "base.html" %}
{% block head %}
  <style>
      span{
          width: 200px;
      }
      a{
          width: 90px;
      }      
  </style>
  <title>Todo App</title>
{% endblock %}
{% block body %}

  <div class="container my-6 bg-light text-dark" style="width:90%; border-radius: 10px; padding: 12px;">
    <h1 style="text-align: center;">Add Todos </h1>
    <br>
    <form actions="/" method="POST">
      <div class="mb-3">
        <label for="title" class="form-label">
          Title
        </label>

        <input type="text" class="form-control" id="title" name="title" aria-describedby="emailHelp" requird>

      </div>
      <div class="mb-3">
        <label class="form-label" for="desc" id="desc">
          Description
        </label>

        <textarea class="form-control" id="textAreaExample1" rows="3" name="desc" requird>

        </textarea>
      </div>

      <button style="width: 100px; height: 35px;" type="submit" class="btn btn-outline-dark btn-sm">
        Add Todo
      </button>


    </form>

  </div>

</div>




<br><br>





<div class="text-center container table-responsive bg-light" style="width: 90%; border-radius: 10px;">
  <br>
  <h1 class="my-3" style="text-align: center;">
    <u>Your Todos</u>
  </h1>
  <br>

  <table class="table table-sm table-light table align-middle table-hover">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Title</th>
        <th scope="col" colspan="2">Description</th>
        <th scope="col" colspan="3">Time</th>
        <th scope="col" colspan="2">Actions</th>
       
      </tr>
    </thead>

    <tbody>
    {% if todos|length==0 %}
        <div class="alert alert-info" role="info">
                No records found.
            </div>
       {% else %}
              
    {% for todo in todos %}   
      <tr>
        <th scope="row">{{ loop.index }}</th>
        <td>{{ todo.title }}</td>
        <td colspan="2">{{ todo.desc }}</td>
        <td colspan="3">{{ todo.date_created }}</td>
        <td colspan="2" >
            <a href="/delete/{{ todo.sno }}" type="button" class="mx-2 btn btn-sm my-2 btn-outline-primary">Delete</a>
            <a href="/update/{{todo.sno}}" type="button" class="mx-2 btn btn-sm my-2 btn-outline-primary">Update</a></td>
    {% endfor %}
    {% endif %}
      </tr>
    </tbody>
  </table>
  <br>
</div>
{% with messages=get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-danger" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<br>
{% endblock %}
